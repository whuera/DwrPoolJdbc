//>>built
define("ec/fisa/grid/FisaEditableGridDirect","dojo/_base/kernel dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ec/fisa/grid/EnhancedGrid dijit/form/Button ec/fisa/dwr/Store ec/fisa/grid/enhanced/plugins/Pagination dojox/lang/functional ec/fisa/grid/Utils ec/fisa/grid/RowActions ec/fisa/controller/Utils ./_base".split(" "),function(d,e,g,h,k,f,l,m,n,p,q){return e("ec.fisa.grid.FisaEditableGridDirect",[f],{_dataGridStore:null,newButtonLabel:"",editButtonLabel:"",
deleteButtonLabel:"",selectButtonLabel:"Seleccionar",block:null,tabId:"",pageScopeId:"",tabIndexField:null,entId:"",btId:"",addNewButton:null,btPos:-1,keys:{},pKeyStr:"",fKeyStr:"",model:null,complementModel:null,fisaEditableGrid:!0,fisaEditableDirectGrid:!0,hasComboInside:!1,pageLength:null,doLastPage:!1,postMixInProperties:function(){this.inherited(arguments);this.pKeyStr=d.toJson(this.keys.PK);this.fKeyStr=d.toJson(this.keys.FK);this.store=new ec.fisa.dwr.Store("BtControllerDWR","viewEditableMultivalueDataDirect",
this.tabId,this.pageScopeId,[this["fisa-bt-id"],this.btId,this.entId,this.pKeyStr]);this.store.onNew=this.handleNew;this.store.onSet=this.handleSet;!1===this.addNewButton&&(this.block.n=!0);var a={newBlocked:this.block.n,onNewExecute:this.execNew,tabIndexField:this.tabIndexField};this.plugins?this.plugins.fisaPagination=a:this.plugins={fisaPagination:a}},postCreate:function(){this.inherited(arguments);this.store.fisaEditableGridId=this.id;this.connect(this,"_onFetchComplete",this.fetchCompleteConnectedFn)},
fetchCompleteConnectedFn:function(){!0==this.doLastPage&&(this.lastPage(),this.doLastPage=!1)},doKeyEvent:function(a){},handleSet:function(){},handleNew:function(a,b){},execNew:function(){var a=dijit.byId(this.fisaEditableGridId),b={callbackScope:a,callback:a.handleNewCB},c=ec.fisa.controller.utils.getPageController(a.tabId,a.pageScopeId);dijit.byId(c.messagesPanelId).clearAllMessages();c.model.clearAllMessages();BtControllerDWR.execEDirectGridNew(a.entId,null,a.btId,a.pKeyStr,a.fKeyStr,a.btPos,a.tabId,
a.pageScopeId,a.getPostFTM(),b)},handleNewCB:function(a){"refresh"==a.wAxn?(null==this.model&&(this.model=[]),null==this.complementModel&&(this.complementModel=[]),this.doLastPage=!0,this.refresh()):"error"==a.wAxn&&ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId).updateMsgsPanel(a.aMsgs)},handleDeleteCB:function(a){},getPostFTM:function(){return ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId).model.toPlainObject()},refresh:function(){this.setQuery(this.query,
this.queryOptions)},canSort:function(a){return!1},_getValueAttr:function(){var a=[];null!=this.model&&d.forEach(this.model,function(b){b=b.toPlainObject();var c={};dojox.lang.functional.forIn(b,function(a,b){c[b]={value:a}});a.push(c)});return a},_setValueAttr:function(a,b,c){}})});
//@ sourceMappingURL=FisaEditableGridDirect.js.map