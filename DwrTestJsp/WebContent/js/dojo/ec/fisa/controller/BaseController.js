//>>built
define("ec/fisa/controller/BaseController","dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect ./_base dojo/dom-geometry dojo/dom-style ec/fisa/controller/Utils ec/fisa/print/Utils dojo/topic ec/fisa/navigation/Utils ec/fisa/validation/Utils".split(" "),function(e,k,l,s,t,u,m,n,v,p,q){return k("ec.fisa.controller.BaseController",null,{messagesPanelId:null,penddingMessages:null,bindingForm:null,dojoComponents:null,constructor:function(){},setPenddingMessages:function(a){this.penddingMessages=
a},setMessagesPanel:function(a){this.messagesPanelId=a.id;null!=this.penddingMessages&&this.updateMsgsPanel(this.penddingMessages)},updateMsgsPanel:function(a){if(a){var b=dijit.byId(this.messagesPanelId);b&&b.update(a,this.isComponentMsg,this.addComponentMsg,this)}},closePopupMsgPanel:function(){dijit.byId(this.messagesPanelId).closePopup()},clearPanelMessage:function(){this.messagesPanelId&&dijit.byId(this.messagesPanelId).clearAllMessages()},isComponentMsg:function(a){return!1},addComponentMsg:function(a){},
errorHandler:function(a,b){this.updateMsgsPanel([{level:{level:4E4},summary:a,detail:b.javaClassName}])},obtainInitialValue:function(a){var b=a["bt-id"];a=a["field-id"];var c=null;this.data&&(this.data[b]&&this.data[b].dataMessage)&&(c=this.data[b].dataMessage.fields[a]);return null==c||null==c.value?"":c.value},printLog:function(a){},printPage:function(a){var b=e.config.fisaTheme,c=e.config.fisaSkinContextPath,r=e.config.fisaContextPath,g=ec.fisa.navigation.utils.obtainParentBreadCrumb(a).selectedChildWidget;
a=m.getMarginBox(g.domNode);a=window.open("","PrintWindow","width\x3d"+(a.w+50)+",height\x3d"+(a.h+50)+",top\x3d0,left\x3d0,toolbars\x3dno,scrollbars\x3dyes,status\x3dno,resizable\x3dyes");var f=e.byId("logoCompanyUserBar"),h=null;f&&(h=ec.fisa.controller.utils.parseCssUrl(n.get(f,"backgroundImage")));var d="",d=d+'\x3cscript type\x3d"text/javascript"\x3e',d=d+"var data\x3d",f=this.extractPrintData(g.domNode),d=(f=e.toJson(f))?d+f:d+"{}",d=d+";",d=d+"\x3c/script\x3e",g=g.getChildren();e.forEach(g,
function(a){d+=a.domNode.innerHTML},this);b=p.replaceVariables({inject:d,currentStyle:b,contextPath:r,logoImg:h,skinContextPath:c,dojoReleaseName:e.config.dojoRelaseName,themeVersion:e.config.fisaThemeVersion});b=b.replace("inline-table","block");delete d;a.document.writeln(b);a.document.close();a.focus()},extractPrintData:function(a){var b={};if(a){var c=a.getElementsByTagName("input");c&&e.forEach(c,this.addPrintComponent,b);(a=a.getElementsByTagName("textarea"))&&e.forEach(a,this.addPrintComponent,
b)}return b},addPrintComponent:function(a){""!=a.id&&(this[a.id]=a.value)},publishChange:function(a,b,c,e){q.publish("verifiyUpdate_"+a+"_"+b+"_"+c,e)},generateMsg:function(a,b,c){return[{summary:a,detail:b,level:{level:c}}]},applyValidator:function(a){var b=ec.fisa.validation.utils.findValidator(a),c=!0;void 0!=b&&l.isFunction(b)&&(c=b(a),this.clearPanelMessage());!1==c&&(a.set("value",null,!1),a=this.generateMsg(a.validationMessage,"",4E4),this.updateMsgsPanel(a));return c}})});
//@ sourceMappingURL=BaseController.js.map