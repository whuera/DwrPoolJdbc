//>>built
define("ec/fisa/controller/custom/LayoutController","dojo/_base/kernel dojo/_base/declare dojo/_base/lang dijit/focus dojo/aspect ec/fisa/controller/BaseController ec/fisa/format/Utils ec/fisa/navigation/Utils dojo/dom-geometry dojo/on dojo/_base/json dojox/lang/functional/object".split(" "),function(d,e,h,k,l,f,m,n,p,q,g){return e("ec.fisa.controller.custom.LayoutController",[f],{tabId:null,pageScopeId:null,layoutTemplateId:null,breadcrumbId:null,jasperToPrint:null,portletScopeIds:[],constructor:function(a,
b,c){this.tabId=a;this.pageScopeId=b;this.layoutTemplateId=c},destroy:function(){},execAction:function(a){if(a&&a["fisa-action-id"])if(a=a["fisa-action-id"],ec.fisa.widget.utils.resetFocusManager(),"CANCEL"==a){var b={wAxn:"close"};this.handleCancelAction(b)}else"PRINT"==a&&this.handlePrintAction(b)},handleCancelAction:function(a){if("close"==a.wAxn){a=dijit.byId(this.breadcrumbId).selectedChildWidget;var b=!1;if(null!=a.postClose&&void 0!=a.postClose&&void 0!=a.postCloseScope&&null!=a.postCloseScope){var c=
dijit.byId(a.postCloseScope);a.postClose.apply(c,a.postCloseArgs)}else b=!0;ec.fisa.navigation.utils.closeCurrentBreadCrumb(this.breadcrumbId);null!=a&&(null!=a.postCloseArgs&&void 0!=a.postCloseArgs&&null!=a.postCloseArgs.btBreadCrumbId&&void 0!=a.postCloseArgs.btBreadCrumbId&&void 0!=a.postClose&&void 0!=a.postCloseScope)&&ec.fisa.navigation.utils.closeCurrentBreadCrumb(a.postCloseArgs.btBreadCrumbId);b&&ec.fisa.menu.utils.addEmptyTabAllClosed(d.config.fisaNewTabLabel)}else alert("unknown action!")},
handlePrintAction:function(a){a=g.toJson(this.portletScopeIds);window.open(d.config.fisaContextPath+"/layoutReport?tabId\x3d"+this.tabId+"\x26layoutTemplateId\x3d"+this.layoutTemplateId+"\x26pageScopeIdList\x3d"+a)},setBreadcrumb:function(a){a&&(this.breadcrumbId=a.getParent().getParent().getParent().id)},addPortletScopeId:function(a){console.log("*******a\u00f1adiendo pages scope de controlador hijo");this.portletScopeIds.push(a)}})});
//@ sourceMappingURL=LayoutController.js.map