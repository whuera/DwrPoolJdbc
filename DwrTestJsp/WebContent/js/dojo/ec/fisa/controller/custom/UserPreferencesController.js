//>>built
define("ec/fisa/controller/custom/UserPreferencesController","dojo/_base/kernel dojo/_base/declare dojo/_base/lang ./_base ec/fisa/controller/BaseController dojox/mvc dojox/mvc/StatefulModel dojo/store/DataStore dojo/data/ObjectStore dojo/store/Memory".split(" "),function(c,d,f,g,e,h,k,l,m,n){return d("ec.fisa.controller.custom.UserPreferencesController",[e],{tabId:null,pageScopeId:null,model:null,idSelectLanguage:null,idSelectStyle:null,idSelectMenu:null,breadcrumbId:null,constructor:function(a,
b){this.tabId=a;this.pageScopeId=b;UserPreferencesDWR.init(this.tabId,{callbackScope:this,callback:function(a){delete a.tabId;this.init(a)},errorHandler:c.hitch(this,this.errorHandler)})},setMessagesPanel:function(a){this.inherited(arguments);if("undefined"===typeof this.breadcrumbId||null==this.breadcrumbId){var b=ec.fisa.controller.utils.findCurrentBreadCrumb(a);b&&(this.breadcrumbId=b.id)}},init:function(a){var b=a.languageList,c=a.styleList,d=a.styleMenuList;delete a.languageList;delete a.styleList;
delete a.styleMenuList;this.model=dojox.mvc.newStatefulModel({data:a});this.idSelectLanguage.set("options",b);this.idSelectLanguage.set("ref",this.model.selectedLanguage);this.idSelectStyle.set("options",c);this.idSelectStyle.set("ref",this.model.selectedStyle);this.idSelectMenu.set("options",d);this.idSelectMenu.set("ref",this.model.selectedStyleMenu)},submitAction:function(){this.clearPanelMessage();UserPreferencesDWR.save(this.tabId,this.pageScopeId,this.model.toPlainObject(),{callbackScope:this,
callback:this.submitActionHandler,errorHandler:c.hitch(this,this.errorHandler)})},submitActionHandler:function(a){dijit.byId(this.messagesPanelId).clearAllMessages();this.updateMsgsPanel(a.aMsgs);a.dst&&document.location.reload(!0)},close:function(){ec.fisa.navigation.utils.closeCurrentBreadCrumb(this.breadcrumbId);ec.fisa.menu.utils.addEmptyTabAllClosed(c.config.fisaNewTabLabel)}})});
//@ sourceMappingURL=UserPreferencesController.js.map