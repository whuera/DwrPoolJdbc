//>>built
define("ec/fisa/controller/custom/BtReportController","dojo/_base/kernel dojo/_base/declare dojo/_base/lang ./_base ec/fisa/controller/BaseController ec/fisa/navigation/Utils dojo/dom-construct dojo/dom-geometry dojox/mvc dojo/on ec/fisa/message/ConfirmationPanel ec/fisa/mvc/StatefulModel dojo/data/ItemFileWriteStore ec/fisa/dwr/proxy/EventReportActionDWR dojox/grid/EnhancedGrid".split(" "),function(d,e,l,m,f,n,g,p,q,r,s,h,k){return e("ec.fisa.controller.custom.BtReportController",[f],{tabId:null,
pageScopeId:null,breadCrumbId:null,msg:null,currentBreadCrumbId:null,btContentPaneId:null,btPageScopeId:null,buttonCntPneId:null,iframeWdgtId:null,model:null,constructor:function(a,b,c){this.tabId=a;this.pageScopeId=b;this.btPageScopeId=c;this.model=h({})},initMvc:function(a,b){this.model.appendObject([b,"value"],"",a.id,"value",null,!1)},initArgs:function(a){this.currentBreadCrumbId=a.getParent().getParent().id;this.btContentPaneId=a.getParent().id},initButtonCntnPne:function(a){this.buttonCntPneId=
a.id},initIFrameWdgt:function(a){this.iframeWdgtId=a.id},closeConfirmation:function(){this.closeReports()},nextAutoRunReport:function(){var a={callbackScope:this};a.errorHandler=d.hitch(this,this.errorHandler);a.callback=this._launchNextAutoRunReportCallBack;EventReportActionDWR.nextAutoRunReport(this.tabId,this.btPageScopeId,a)},_launchNextAutoRunReportCallBack:function(a){a.wAxn="cnfrm";var b=dijit.byId(this.buttonCntPneId);b.ioArgs={content:{responseShowNextReportButton:a.responseShowNextReportButton,
responseShowEndReportButton:a.responseShowEndReportButton,tabId:this.tabId,pageScopeId:this.pageScopeId}};b.refresh();dijit.byId(this.iframeWdgtId).refresh()},closeReports:function(){var a=dijit.byId(this.currentBreadCrumbId).selectedChildWidget;if(a.postClose){var b=dijit.byId(a.postCloseScope);a.postClose.apply(b,a.postCloseArgs)}ec.fisa.navigation.utils.closeCurrentBreadCrumb(this.currentBreadCrumbId)},initReportGrid:function(a,b,c){a=g.create("div",null,a.domNode);b=[{name:b.reportId,field:"reportId",
width:"100px"},{name:b.reportTitle,field:"reportTitle",width:"100px"}];c=new k({data:{identifier:"customReportId",items:c}});(new dojox.grid.EnhancedGrid({store:c,structure:b,rowSelector:"0px",selectionMode:"single",autoHeight:!0,autoWidth:!0},a)).startup()},appliedParameterList:function(){},buildReports:function(){this.clearPanelMessage();var a={callbackScope:this};a.errorHandler=d.hitch(this,this.errorHandler);a.callback=this._launchBuildReportCallBack;var b=this.model.getValue(["LANGUAGE_SELECTED",
"value"]);EventReportActionDWR.openReportAutoFromModule(this.tabId,this.btPageScopeId,b,a)},_launchBuildReportCallBack:function(a){"error"==a.wAxn?this.updateMsgsPanel(a.aMsgs):ec.fisa.navigation.utils.showNewReportBreadCrumb(a.responseReportLabels.title,this.currentBreadCrumbId,this.tabId,this.btPageScopeId,a.responseReportUrl,a.responseShowNextReportButton,a.responseShowEndReportButton)}})});
//@ sourceMappingURL=BtReportController.js.map