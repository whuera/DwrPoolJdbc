//>>built
define("ec/fisa/controller/security/ImagePickerController","dojo/_base/kernel dojo/_base/declare dojo/_base/lang ec/fisa/controller/security/BaseSecurityController ./_base dojo/dom-style ec/fisa/controller/Utils".split(" "),function(d,f,h,g,k,e){return f("ec.fisa.controller.security.ImagePickerController",g,{"-chains-":{constructor:"manual"},imagePickerId:null,acceptButtonId:null,titleBarId:null,breadcrumbId:null,initMsgs:null,_isReloadable:!1,initLabels:[],constructor:function(a,b,c,d,e){this.inherited(arguments)},
handleWindowAction:function(a){this.inherited(arguments);a.dst&&!1==this.calledByDlg?(dwr.engine._batchesLength++,ec.fisa.dwr.proxy.standby.show(),setTimeout(function(){document.location.reload(!0)},3E3),ec.fisa.dwr.proxy.standby.show()):"cnfrm"==a.wAxn&&(this._isReloadable=a.isReloadable,ec.fisa.navigation.utils.showNewBreadCrumbConfirmation(a.confirmationDialogTitle,a.aMsgs,this.breadcrumbId,this.tabId,this.pageId,null,null,!1));a.cancelValitation&&this.disableImagePickerWidget()},disableImagePickerWidget:function(){var a=
dijit.byId(this.imagePickerId),b=dijit.byId(this.acceptButtonId),c=dijit.byId(this.titleBarId);a&&e.set(a.domNode,"display","none");b&&e.set(b.domNode,"display","none");c&&e.set(c.domNode,"display","none")},setImagePickerWidgetId:function(a){this.imagePickerId=a},setAcceptButtonId:function(a){this.acceptButtonId=a},setTitleBarId:function(a){this.titleBarId=a},saveSelectedImg:function(a){var b=dijit.byId(this.imagePickerId)._getValueAttr(),c={callbackScope:this};c.callback=this.handleWindowAction;
c.errorHandler=d.hitch(this,this.errorHandler);ImagePickerControllerDWR.saveSelectedImage(this.tabId,this.pageScopeId,b,a,c)},validateSelectedImg:function(){var a=dijit.byId(this.imagePickerId)._getValueAttr(),b={callbackScope:this};b.callback=this.handleWindowAction;b.errorHandler=d.hitch(this,this.errorHandler);ImagePickerControllerDWR.validateSelectedImage(this.tabId,this.pageScopeId,a,b)},setMessagesPanel:function(a){this.inherited(arguments);if(!1==this.calledByDlg&&("undefined"===typeof this.breadcrumbId||
null==this.breadcrumbId)){var b=ec.fisa.controller.utils.findCurrentBreadCrumb(a);b&&(this.breadcrumbId=b.id)}this.updateMsgsPanel(this.initMsgs);delete this.initMsgs},close:function(a){this.onCancelEvent();if(!1==this.calledByDlg)if(a){var b={callbackScope:this};b.callback=this.handleWindowAction;b.errorHandler=d.hitch(this,this.errorHandler);ImagePickerControllerDWR.closeController(a,b)}else ec.fisa.navigation.utils.closeCurrentBreadCrumb(this.breadcrumbId)},cancel:function(){this.close(!1)},updateExpiredMsg:function(a){a&&
ImagePickerControllerDWR.generateExpiredMsg({callbackScope:this,callback:d.hitch(this,function(a){dijit.byId(this.messagesPanelId).clearAllMessages();this.updateMsgsPanel(a.aMsgs)}),errorHandler:d.hitch(this,this.errorHandler)})},destroy:function(){var a=this._isReloadable;this.inherited(arguments);!0==a&&setTimeout(function(){document.location.reload(!0)},500)}})});
//@ sourceMappingURL=ImagePickerController.js.map