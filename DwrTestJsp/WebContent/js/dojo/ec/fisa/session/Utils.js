//>>built
define("ec/fisa/session/Utils","dojo/_base/kernel dojo/_base/declare ec/fisa/session/_base dojo/_base/connect dojo/dom-construct ec/fisa/dwr/proxy/EventActionDWR".split(" "),function(b,c,d,f,e){c=c("ec.fisa.session.Utils",null,{_idleTime:null,_timers:[],idleTime:null,time:1E3*b.config.fisaTimeout,logout:!0,title:b.config.fsesTitle,question:b.config.fsesQuestion,logOutUrl:b.config.fsesLogOutUrl,keepAliveUrl:b.config.fsesKeepAliveUrl,acceptLabel:b.config.fsesAcceptLabel,window:null,onIdleSubscribeFunction:null,
constructor:function(){},resetAndInit:function(){this.clearTimers();this.setTimer()},resetAndInitMaintain:function(){var a={callbackScope:this};a.errorHandler=b.hitch(this,this.errorHandler);a.callback=b.hitch(this,this.handleResetAndInitCallBack);EventActionDWR.mantainSessionCall(a)},handleResetAndInitCallBack:function(a){"success"==a&&this.resetAndInit()},setTimer:function(){this._timers.push(setTimeout(function(){ec.fisa.session.utils.raiseQueryDialog()},ec.fisa.session.utils.time))},clearTimers:function(){if(this._timers)for(var a=
0;a<this._timers.length;a++)clearTimeout(this._timers[a]);this._timers=[]},addOnLoadIdle:function(a){this.setTimer();this.window=a},logoutNow:function(){window.location.replace(b.config.fisaContextPath+this.logOutUrl)},onActive:function(a){ec.fisa.session.utils.clearTimers()},chooseTimersOrLogout:function(a){var b=setTimeout(this.logoutNow,6E4);a?(clearTimeout(b),this.clearTimers()):this.logoutNow()},commonCallback:function(a){ec.fisa.session.utils.dlgConfirm.hide();ec.fisa.session.utils.dlgConfirm.destroyRecursive(!1);
ec.fisa.session.utils.chooseTimersOrLogout(!a)},goOut:function(a){this.logout=!0;ec.fisa.session.utils.commonCallback(this.logout)},raiseQueryDialog:function(){var a={acceptDialogLabel:this.acceptLabel,title:this.title,content:this.question,acceptAction:ec.fisa.session.utils.goOut,disableCloseButton:!0,disableCancelButton:!0},c=null,c=b.config.fisaMobile?new ec.fisa.mobile.widget.ConfirmDialog(a,e.create("div",{},b.byId("modals"))):new ec.fisa.widget.ConfirmDialog(a);c.show();ec.fisa.session.utils.dlgConfirm=
c}});d.utils=new c;ec.fisa.session.utils=d.utils;return c});
//@ sourceMappingURL=Utils.js.map