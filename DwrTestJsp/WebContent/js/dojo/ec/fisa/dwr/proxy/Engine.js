//>>built
define("ec/fisa/dwr/proxy/Engine","dojo/_base/kernel dojo/_base/declare dojo/_base/window dojo/dom-construct ./_base dwr/engine dwr/util ec/fisa/session/Utils dojo/domReady!".split(" "),function(d,g,e,h){var f=dwr.engine._pathToDwrServlet.lastIndexOf("-");0<=f&&(dwr.engine._pathToDwrServlet=dwr.engine._pathToDwrServlet.substr(0,f));f=null;dwr.engine.setHeaders({fisaSessionId:d.config.fisaSessionId});ec.fisa.dwr.proxy._execute=dwr.engine._execute;ec.fisa.dwr.proxy._handleError=dwr.engine._handleError;
ec.fisa.dwr.proxy.handleException=dwr.engine.handleException;ec.fisa.dwr.proxy.remoteHandleException=dwr.engine.remote.handleException;dwr.engine._execute=function(c,a,b,d){ec.fisa.session.utils&&ec.fisa.session.utils.resetAndInit();ec.fisa.dwr.proxy._execute(dwr.engine._pathToDwrServlet,a,b,d)};dwr.engine._handleError=function(c,a){var b=!0;"java.lang.SecurityException"==a.name&&-1!=a.message.indexOf("CSRF")&&(console.log("wrong session id. another session opened. must close this window"),window.location.replace(d.config.fisaContextPath+
"/duplicate_session_error.jsp?fisaLanguajeParam\x3d"+d.config.fisaLanguajeParam),b=!1);b&&(dwr.engine._postHook(),ec.fisa.dwr.proxy._handleError(c,a))};dwr.engine.handleException=function(c,a,b){dwr.engine._postHook();ec.fisa.dwr.proxy.handleException(c,a,b)};dwr.engine.remote.handleException=function(c,a,b){var e=!0;"org.directwebremoting.extend.ServerException"==b.javaClassName&&"duplicateSessionReload"==b.message&&(console.log("wrong session id. another session opened. must close this window"),
window.location.replace(d.config.fisaContextPath+"/duplicate_session_error.jsp?fisaLanguajeParam\x3d"+d.config.fisaLanguajeParam),e=!1);!0==e&&ec.fisa.dwr.proxy.remoteHandleException(c,a,b)};d.forEach(dwr.engine._global.dwr._,function(c){c.handleException=dwr.engine.remote.handleException});d.config.fisaMobile?(ec.fisa.dwr.proxy.standby=new dojox.mobile.ProgressIndicator({size:40,center:"true"}),ec.fisa.dwr.proxy.contenStandby=h.create("div",{"class":"mblSimpleDialogCover"},e.body()),ec.fisa.dwr.proxy.contenStandby.style.display=
"none",e.body().appendChild(ec.fisa.dwr.proxy.standby.domNode),ec.fisa.dwr.proxy.standby.stop()):(ec.fisa.dwr.proxy.standby=new dojox.widget.Standby({target:d.config.fisaStandbyId||"borderContainerTwo",color:"#E2EBFE",zIndex:1500}),document.body.appendChild(ec.fisa.dwr.proxy.standby.domNode));ec.fisa.dwr.proxy.standby.startup();dwr.engine.setPreHook(function(){if(ec.fisa.dwr.proxy.standby){var c=!0,a=dwr.engine._batches;if(void 0!=a&&null!=a){var b=dwr.engine._nextBatchId;void 0!=b&&0!=b&&(a=a[b-
1],void 0!=a&&"mantainSessionCall"===a.map["c0-methodName"]&&(c=!1))}c&&(d.config.fisaMobile?(ec.fisa.dwr.proxy.contenStandby.style.display="",e.body().appendChild(ec.fisa.dwr.proxy.standby.domNode),ec.fisa.dwr.proxy.standby.start()):1===dwr.engine._batchesLength&&ec.fisa.dwr.proxy.standby.show())}});dwr.engine.setPostHook(function(){if(ec.fisa.dwr.proxy.standby){var c=!0,a=dwr.engine._batches;if(void 0!=a&&null!=a){var b=dwr.engine._nextBatchId;void 0!=b&&0!=b&&(a=a[b-1],void 0!=a&&null!=a&&"mantainSessionCall"===
a.map["c0-methodName"]&&(c=!1))}c&&(d.config.fisaMobile?(ec.fisa.dwr.proxy.contenStandby.style.display="none",ec.fisa.dwr.proxy.standby.stop()):1===dwr.engine._batchesLength&&ec.fisa.dwr.proxy.standby.hide())}});return g("ec.fisa.dwr.proxy.Engine",[],{})});
//@ sourceMappingURL=Engine.js.map