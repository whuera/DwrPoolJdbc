//>>built
define("ec/fisa/cometd/main","org/cometd dojo/json dojox dojo/_base/xhr dojo/io/script dojo/topic".split(" "),function(b,e,d,g,h,f){b.JSON.toJSON=e.stringify;b.JSON.fromJSON=e.parse;d.Cometd=function(a){a=new b.Cometd(a);b.WebSocket&&a.registerTransport("websocket",new b.WebSocketTransport);a.registerTransport("long-polling",new function(){var a=new b.LongPollingTransport,a=b.Transport.derive(a);a.xhrSend=function(a){var b=g.post({url:a.url,sync:!0===a.sync,contentType:"application/json;charset\x3dUTF-8",
headers:a.headers,postData:a.body,withCredentials:!0,handleAs:"json",load:a.onSuccess,error:function(c){a.onError(c.message,b?b.ioArgs.error:c)}});return b.ioArgs.xhr};return a});a.registerTransport("callback-polling",new function(){var a=new b.CallbackPollingTransport,a=b.Transport.derive(a);a.jsonpSend=function(a){var b=h.get({url:a.url,sync:!0===a.sync,callbackParamName:"jsonp",content:{message:a.body},load:a.onSuccess,error:function(c){a.onError(c.message,b?b.ioArgs.error:c)}})};return a});return a};
var a=new d.Cometd;a.websocketEnabled=!1;d.cometd=a;a._init=a.init;a._unsubscribe=a.unsubscribe;a.unsubscribe=function(b,d,e){if("string"===typeof b)throw"Deprecated function unsubscribe(string). Use unsubscribe(object) passing as argument the return value of subscribe()";a._unsubscribe.apply(a,arguments)};a._metaHandshakeEvent=function(a){a.action="handshake";f.publish("/cometd/meta",a)};a._metaConnectEvent=function(a){a.action="connect";f.publish("/cometd/meta",a)};a.addListener("/meta/handshake",
a,a._metaHandshakeEvent);a.addListener("/meta/connect",a,a._metaConnectEvent);return a});
//@ sourceMappingURL=main.js.map