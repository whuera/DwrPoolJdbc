//>>built
define("ec/fisa/widget/tsc/TranslatorDropAreaSource","dojo/_base/declare dojo/_base/kernel dojo/dom-construct dojo/_base/connect dojo/dnd/Target ec/fisa/widget/tsc/TranslatorDropArea ec/fisa/controller/Utils dojox/lang/functional/object ./_base dijit/_base/focus".split(" "),function(h,d,e,k,q,l,p){return h("ec.fisa.widget.tsc.TranslatorDropAreaSource",[l],{constructor:function(){ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId).bindDropAreaSource(this)},focus:function(){this.focused||
p.focus(this.focusNode)},onDrop:function(g,h,l){if("ec.fisa.widget.tsc.TranslatorTargetTree"!==g.tree.declaredClass&&!1!==g.tree.store.getValue(g.tree.selectedItem,"leaf")){this.inherited(arguments);var b=dojox.lang.functional.keys(this.selection),a=dojox.lang.functional.keys(this.map),f=b[0];if(1<a.length){var m=[];d.forEach(a,function(a){a!=f&&m.push(a)},this);d.forEach(m,function(a){this.delItem(a);k.disconnect(this._connections[a]);delete this._connections[a];e.destroy(d.byId(a))},this)}b=this.map[f];
a=e.create("div",{"class":"userHomeScreenTitle"},d.byId(f));e.create("span",null,a).innerHTML="Source Field";var n=e.create("span",{"class":"userHomeScreenTitleClose"},a);n.itemId=f;this._connections[f]=k.connect(n,"onclick",this,this.deleteItem);a=e.create("div",null,a);if("COMMONS|EXPRESSION"==b.data.id){var b=ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId),c=new dijit.form.Textarea({name:"expression",value:"",style:{width:"100%",height:"100%"}},"expression");c.tabIndex=
"1";c.connect(c,"onBlur",d.hitch(b,b.onBlurExpression,c));a.appendChild(c.domNode);c.connect(a,"onclick",function(){c.focus()},!0)}else a.innerHTML=b.data.name;a.style.color="black"}}})});
//@ sourceMappingURL=TranslatorDropAreaSource.js.map