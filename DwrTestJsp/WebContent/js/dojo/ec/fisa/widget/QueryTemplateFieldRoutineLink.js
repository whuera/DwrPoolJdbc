//>>built
define("ec/fisa/widget/QueryTemplateFieldRoutineLink","dojo/_base/declare ec/fisa/widget/BtLink dojo/_base/kernel dojo/dom-geometry dojo/has ec/fisa/dwr/proxy/QueryTemplateFieldRoutineControllerDWR ./_base dojo/_base/sniff dojo/io/iframe".split(" "),function(k,l,f,m,h){return k("ec.fisa.widget.QueryTemplateFieldRoutineLink",[l],{rowIndex:-1,routine:"",fieldId:-1,_destroyOnRemove:!0,onClick:function(){QueryTemplateFieldRoutineControllerDWR.executeAction(this.fieldId,this.rowIndex,this.tabId,this.pageScopeId,
this.routine,{callbackScope:this,callback:this.handleButtonResponse})},handleButtonResponse:function(a){var b=ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId);b.clearPanelMessage();a.aMsgs&&b.updateMsgsPanel(a.aMsgs);if(a.wAxn&&"open"==a.wAxn){var b=dijit.byId(f.config.fisaStandbyId),b=m.getMarginBox(b.domNode),e=f.config.fisaContextPath,c=a.format.toLowerCase(),d=f.config.fisaContextPath+"/multiregisterLink/format/"+a.format;h("webkit")&&(d+="/browser/webkit");d+="/dst/"+a.dst;
"pdf"==c?e+="/pages/static/image/pdf-viewer.jsp":"html"==c?(e+="/pages/static/image/html-viewer.jsp",d=a.dst):e+="/pages/static/image/image-viewer.jsp";var g={imagePath:d,_format:c};"pdf"==c||"html"==c?(g.imageWidth=b.w,g.imageHeight=b.h):(a.width&&(g.imageWidth=a.width),a.height&&(g.imageHeight=a.height));h("webkit")&&"pdf"==c&&null==navigator.userAgent.match(/iPad/i)?(a=f.io.iframe.create("downloadPdfIframe"),f.io.iframe.setSrc(a,d,!0)):"html"==c?window.open(d):(a=ec.fisa.navigation.utils.openHrefFisaDlg("",
e,{content:g}),"pdf"==c&&a.resize({w:b.w,h:b.h},{w:b.w,h:b.h}))}}})});
//@ sourceMappingURL=QueryTemplateFieldRoutineLink.js.map