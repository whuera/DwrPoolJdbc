//>>built
require({cache:{"url:ec/fisa/widget/templates/Priority.html":'\x3cdiv\x3e\n\t\x3cdiv id\x3d"${id}_priority_style" data-dojo-attach-point\x3d"_priority_style" \x3e\x3cimg src\x3d"${_blankGif}" alt\x3d""\n\t\t\t\t\t\x3e \x3c/div\x3e\n\t\x3cbutton   data-dojo-type\x3d"dijit.form.DropDownButton" data-dojo-attach-point\x3d"_priority_button" style\x3d"float:right;" \x3e\n\t\t\t\x3cspan\x3e\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-type\x3d"dijit.Menu" data-dojo-attach-point\x3d"_priority_menu"\x3e\n\t\t\t\t\n\t\t\t\x3c/span\x3e\n\t\n\t\x3c/button\x3e\n\x3c/div\x3e'}});
define("ec/fisa/widget/Priority","dijit/_Widget dijit/_Templated dojo/_base/declare dojo/dom-style dojo/html dojo/on dojo/dom-attr dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!ec/fisa/widget/templates/Priority.html dijit/form/DropDownButton dijit/MenuItem ./_base".split(" "),function(e,f,g,h,n,p,d,k,l,m){return g("ec.fisa.widget.Priority",[e,f,k,l],{widgetsInTemplate:!0,_priority_style:null,_priority_menu:null,_priority_button:null,_destroyOnRemove:!0,tarea:null,initialPriorityValue:null,
tabId:null,pageScopeId:null,agendaController:null,templateString:m,readOnlyMode:!1,constructor:function(){},postCreate:function(){this.inherited(arguments);this._init()},logger:function(a){},_init:function(){this.agendaController=ec.fisa.controller.utils.getPageController(this.tabId,this.pageScopeId);this.initialPriorityValue=this._validatePriorityValue(this.initialPriorityValue);this.readOnlyMode?this._initPriorityMenu():h.set(this._priority_button.domNode,"display","none");this._updatePriorityStyle(this.initialPriorityValue)},
_initPriorityMenu:function(){for(var a=this.agendaController.dataGridPriorityList,c=0;c<a.length;c++){var b=a[c],b=new dijit.MenuItem({label:b.label,fw:this,priorityV:b.value,onClick:function(){this.fw._updatePriority(this.priorityV)}});this._priority_menu.addChild(b)}},_updatePriority:function(a){var c=this.tarea.taskId,b=this._validatePriorityValue(this.tarea.priority);this._updatePriorityStyle(a);a!=b&&(this.tarea.priority=a,this.agendaController.updateSingleTaskPriority(c,a))},_validatePriorityValue:function(a){return""==
a||null==a?"-1":a},_updatePriorityStyle:function(a){"1"==a?d.set(this._priority_style,"class","low_priority"):"2"==a?d.set(this._priority_style,"class","normal_priority"):"3"==a&&d.set(this._priority_style,"class","high_priority")},_getTareaAttr:function(){return this.tarea},_setTareaAttr:function(a){this.tarea=a},_getTabIdAttr:function(){return this.tabId},_setTabIdAttr:function(a){this.tabId=a},_getPageScopeIdAttr:function(){return this.pageScopeId},_setPageScopeIdAttr:function(a){this.pageScopeId=
a},_getInitialPriorityValueAttr:function(){return this.initialPriorityValue},_setInitialPriorityValueAttr:function(a){this.initialPriorityValue=a},_getReadOnlyModeAttr:function(){return this.readOnlyMode},_setReadOnlyModeAttr:function(a){this.readOnlyMode=a},destroy:function(){delete this.agendaController;delete this.tarea;this.inherited(arguments)}})});
//@ sourceMappingURL=Priority.js.map